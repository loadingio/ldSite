// Generated by LiveScript 1.3.1
(function(){
  return ldc.register("recaptcha", [], function(){
    var lc;
    lc = {
      ready: false,
      queue: []
    };
    if (!(typeof grecaptcha != 'undefined' && grecaptcha !== null)) {
      return {
        get: function(){
          return Promise.resolve('');
        }
      };
    }
    grecaptcha.ready(function(){
      lc.ready = true;
      lc.queue.map(function(it){
        return it.res();
      });
      return lc.queue = [];
    });
    return {
      get: function(action){
        var p;
        action == null && (action = 'generic');
        p = new Promise(function(res, rej){
          if (!lc.ready) {
            return lc.queue.push({
              res: res,
              rej: rej
            });
          } else {
            return res();
          }
        });
        return p.then(function(){
          return grecaptcha.execute('6LdGndkUAAAAANa4WAMz-aJiih01CvNuMBQP0bzF', {
            action: action
          });
        }).then(function(token){
          return token;
        });
      }
    };
  });
})();
